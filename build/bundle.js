var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t){return function(e){return e.preventDefault(),t.call(this,e)}}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function v(t,e,n){t.classList[n?"add":"remove"](e)}let k;function w(t){k=t}function x(){const t=function(){if(!k)throw new Error("Function called outside component initialization");return k}();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}const b=[],C=[],M=[],S=[],A=Promise.resolve();let E=!1;function _(t){M.push(t)}const O=new Set;let z=0;function T(){const t=k;do{for(;z<b.length;){const t=b[z];z++,w(t),D(t.$$)}for(w(null),b.length=0,z=0;C.length;)C.pop()();for(let t=0;t<M.length;t+=1){const e=M[t];O.has(e)||(O.add(e),e())}M.length=0}while(b.length);for(;S.length;)S.pop()();E=!1,O.clear(),w(t)}function D(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const N=new Set;let V;function j(){V={r:0,c:[],p:V}}function H(){V.r||r(V.c),V=V.p}function P(t,e){t&&t.i&&(N.delete(t),t.i(e))}function L(t,e,n,o){if(t&&t.o){if(N.has(t))return;N.add(t),V.c.push((()=>{N.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function F(t,e){t.d(1),e.delete(t.key)}function B(t,e,n,o,r,l,s,c,a,u,i,d){let f=t.length,h=l.length,m=f;const p={};for(;m--;)p[t[m].key]=m;const y=[],g=new Map,$=new Map;for(m=h;m--;){const t=d(r,l,m),c=n(t);let a=s.get(c);a?o&&a.p(t,e):(a=u(c,t),a.c()),g.set(c,y[m]=a),c in p&&$.set(c,Math.abs(m-p[c]))}const v=new Set,k=new Set;function w(t){P(t,1),t.m(c,i),s.set(t.key,t),i=t.first,h--}for(;f&&h;){const e=y[h-1],n=t[f-1],o=e.key,r=n.key;e===n?(i=e.first,f--,h--):g.has(r)?!s.has(o)||v.has(o)?w(e):k.has(r)?f--:$.get(o)>$.get(r)?(k.add(o),w(e)):(v.add(r),f--):(a(n,s),f--)}for(;f--;){const e=t[f];g.has(e.key)||a(e,s)}for(;h;)w(y[h-1]);return y}function U(t){t&&t.c()}function I(t,e,o,s){const{fragment:c,on_mount:a,on_destroy:u,after_update:i}=t.$$;c&&c.m(e,o),s||_((()=>{const e=a.map(n).filter(l);u?u.push(...e):r(e),t.$$.on_mount=[]})),i.forEach(_)}function W(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(t,e){-1===t.$$.dirty[0]&&(b.push(t),E||(E=!0,A.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,n,l,s,c,a,i,d=[-1]){const f=k;w(e);const h=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:n.target||f.$$.root};i&&i(h.root);let m=!1;if(h.ctx=l?l(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),m&&Y(e,t)),n})):[],h.update(),m=!0,r(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();n.intro&&P(e.$$.fragment),I(e,n.target,n.anchor,n.customElement),T()}w(f)}class J{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const X=t=>{const e=new Date(t);return{timestamp:e,year:e.getFullYear(),month:e.getMonth(),monthName:e.toLocaleString("default",{month:"short"}),day:e.getDate()}},G=(t,e=!1)=>({isCurrentMonth:e,month:X(t.periodStartedAt),amount:t.amount}),K=t=>[G(t.payload.currentMonthAmount,!0),...t.payload.completedMonthlyAmounts.map((t=>G(t)))],Q=t=>({data:t.map((t=>t.amount)).reverse(),labels:t.map((t=>t.month.monthName)).reverse()}),R=t=>t.map((t=>(t=>({id:t.post.id,title:t.post.title,amountMonth:t.amount,amountTot:t.totalAmountPaidToDate,homeCollectionId:t.post.homeCollectionId,wordCount:t.post.virtuals.wordCount,readingTime:t.post.virtuals.readingTime,firstPublishedAt:X(t.post.firstPublishedAt)}))(t))),Z=[{key:"firstPublishedAt",title:"Date",type:"date",width:"12ch"},{key:"amountTot",title:"$ Tot",type:"cents",width:"10ch",align:"end"},{key:"amountMonth",title:"$ Month",type:"cents",width:"10ch",align:"end"},{key:"title",title:"Title",type:"text"},{key:"wordCount",title:"Words",type:"numeric",width:"6ch",align:"end"}],tt=[{key:"firstPublishedAt",functionOrderASC:(t,e)=>[...ct(t,e)],functionOrderDESC:(t,e)=>[...at(t,e)]},{key:"amountTot",functionOrderASC:(t,e)=>[...lt(t,e)],functionOrderDESC:(t,e)=>[...st(t,e)]},{key:"amountMonth",functionOrderASC:(t,e)=>[...lt(t,e)],functionOrderDESC:(t,e)=>[...st(t,e)]},{key:"title",functionOrderASC:(t,e)=>[...ot(t,e)],functionOrderDESC:(t,e)=>[...rt(t,e)]},{key:"wordCount",functionOrderASC:(t,e)=>[...lt(t,e)],functionOrderDESC:(t,e)=>[...st(t,e)]}],et=["amountTot","amountMonth","wordCount"],nt=(t,e)=>{const n=e.map((e=>{let n="";return"numeric"!==e.type&&"cents"!==e.type||(n=function(t,e){return t.reduce(((t,n)=>t+n[e]),0)}(t,e.key)),{...e,value:n}}));return n};function ot(t,e){return e.sort(((e,n)=>{const o=e[t].toUpperCase(),r=n[t].toUpperCase();return o>r?1:o<r?-1:0}))}function rt(t,e){return e.sort(((e,n)=>{const o=e[t].toUpperCase(),r=n[t].toUpperCase();return o>r?-1:o<r?1:0}))}function lt(t,e){return e.sort(((e,n)=>{const o=e[t],r=n[t];return o>r?1:o<r?-1:0}))}function st(t,e){return e.sort(((e,n)=>{const o=e[t],r=n[t];return o>r?-1:o<r?1:0}))}function ct(t,e){return e.sort(((e,n)=>{const o=e[t].timestamp,r=n[t].timestamp;return o>r?1:o<r?-1:0}))}function at(t,e){return e.sort(((e,n)=>{const o=e[t].timestamp,r=n[t].timestamp;return o>r?-1:o<r?1:0}))}function ut(e){let n,o;return{c(){n=d("svg"),o=d("path"),y(o,"d","M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"),y(n,"xmlns","http://www.w3.org/2000/svg"),y(n,"viewBox","0 0 20 20"),y(n,"fill","currentColor"),y(n,"class","svelte-1at6spx")},m(t,e){a(t,n,e),c(n,o)},p:t,i:t,o:t,d(t){t&&u(n)}}}class it extends J{constructor(t){super(),q(this,t,null,ut,s,{})}}function dt(e){let n,o;return{c(){n=d("svg"),o=d("path"),y(o,"d","M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h7a1 1 0 100-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"),y(n,"xmlns","http://www.w3.org/2000/svg"),y(n,"viewBox","0 0 20 20"),y(n,"fill","currentColor"),y(n,"class","svelte-1at6spx")},m(t,e){a(t,n,e),c(n,o)},p:t,i:t,o:t,d(t){t&&u(n)}}}class ft extends J{constructor(t){super(),q(this,t,null,dt,s,{})}}function ht(e){let n,o;return{c(){n=d("svg"),o=d("path"),y(o,"d","M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"),y(n,"xmlns","http://www.w3.org/2000/svg"),y(n,"viewBox","0 0 20 20"),y(n,"fill","currentColor"),y(n,"class","svelte-1at6spx")},m(t,e){a(t,n,e),c(n,o)},p:t,i:t,o:t,d(t){t&&u(n)}}}class mt extends J{constructor(t){super(),q(this,t,null,ht,s,{})}}function pt(t){let e,n,o,l,s,d,f,p,g,v;o=new ft({}),d=new it({});let k=t[3]&&yt(t);return{c(){e=i("section"),n=i("button"),U(o.$$.fragment),l=h(),s=i("button"),U(d.$$.fragment),f=h(),k&&k.c(),$(e,"top",t[2]+"px"),$(e,"left",t[1]+"px"),y(e,"class","svelte-1v63if8")},m(r,u){a(r,e,u),c(e,n),I(o,n,null),c(e,l),c(e,s),I(d,s,null),c(e,f),k&&k.m(e,null),p=!0,g||(v=[m(n,"click",t[6]),m(s,"click",t[7])],g=!0)},p(t,n){t[3]?k?(k.p(t,n),8&n&&P(k,1)):(k=yt(t),k.c(),P(k,1),k.m(e,null)):k&&(j(),L(k,1,1,(()=>{k=null})),H()),(!p||4&n)&&$(e,"top",t[2]+"px"),(!p||2&n)&&$(e,"left",t[1]+"px")},i(t){p||(P(o.$$.fragment,t),P(d.$$.fragment,t),P(k),p=!0)},o(t){L(o.$$.fragment,t),L(d.$$.fragment,t),L(k),p=!1},d(t){t&&u(e),W(o),W(d),k&&k.d(),g=!1,r(v)}}}function yt(e){let n,o,r,l,s;return o=new mt({}),{c(){n=i("button"),U(o.$$.fragment)},m(t,c){a(t,n,c),I(o,n,null),r=!0,l||(s=m(n,"click",e[8]),l=!0)},p:t,i(t){r||(P(o.$$.fragment,t),r=!0)},o(t){L(o.$$.fragment,t),r=!1},d(t){t&&u(n),W(o),l=!1,s()}}}function gt(t){let e,n,o,l,s=t[0]&&pt(t);return{c(){s&&s.c(),e=h()},m(r,c){s&&s.m(r,c),a(r,e,c),n=!0,o||(l=[m(document.body,"click",t[5]),m(document.body,"wheel",t[5])],o=!0)},p(t,[n]){t[0]?s?(s.p(t,n),1&n&&P(s,1)):(s=pt(t),s.c(),P(s,1),s.m(e.parentNode,e)):s&&(j(),L(s,1,1,(()=>{s=null})),H())},i(t){n||(P(s),n=!0)},o(t){L(s),n=!1},d(t){s&&s.d(t),t&&u(e),o=!1,r(l)}}}function $t(t,e,n){const o=x();let{x:r=0}=e,{y:l=0}=e,{show:s=!1}=e,{canChart:c=!1}=e;const a=()=>{n(0,s=!1),o("hide")};return t.$$set=t=>{"x"in t&&n(1,r=t.x),"y"in t&&n(2,l=t.y),"show"in t&&n(0,s=t.show),"canChart"in t&&n(3,c=t.canChart)},[s,r,l,c,o,a,()=>{a(),o("order-desc")},()=>{a(),o("order-asc")},()=>{a(),o("chart-this")}]}class vt extends J{constructor(t){super(),q(this,t,$t,gt,s,{x:1,y:2,show:0,canChart:3})}}function kt(t,e,n){const o=t.slice();return o[27]=e[n],o}function wt(t,e,n){const o=t.slice();return o[30]=e[n],o[32]=n,o}function xt(t,e,n){const o=t.slice();return o[33]=e[n],o}function bt(t,e,n){const o=t.slice();return o[33]=e[n],o}function Ct(t,e){let n,o,r,l,s,d,$=e[33].title+"";function k(...t){return e[20](e[33],...t)}return{key:t,first:null,c(){n=i("div"),o=f($),r=h(),y(n,"class","cell title svelte-1x7ak6b"),y(n,"style",l=e[10](e[33])),v(n,"column-order",e[7]?.key===e[33].key),v(n,"data-charted",e[1]===e[33].key),this.first=n},m(t,e){a(t,n,e),c(n,o),c(n,r),s||(d=m(n,"contextmenu",p(k)),s=!0)},p(t,r){e=t,4&r[0]&&$!==($=e[33].title+"")&&g(o,$),4&r[0]&&l!==(l=e[10](e[33]))&&y(n,"style",l),132&r[0]&&v(n,"column-order",e[7]?.key===e[33].key),6&r[0]&&v(n,"data-charted",e[1]===e[33].key)},d(t){t&&u(n),s=!1,d()}}}function Mt(t,e){let n,o,r,l,s,d,h,$=e[11](e[33].type,e[30][e[33].key])+"";function k(...t){return e[21](e[33],...t)}return{key:t,first:null,c(){n=i("div"),o=i("div"),r=f($),y(o,"class","chart-bar svelte-1x7ak6b"),y(o,"style",l=e[15](e[4]===e[33].key,e[30][e[1]])),y(n,"class","cell svelte-1x7ak6b"),y(n,"style",s=e[10](e[33])),v(n,"column-order",e[7]?.key===e[33].key),v(n,"data-charted",e[1]===e[33].key),this.first=n},m(t,e){a(t,n,e),c(n,o),c(o,r),d||(h=m(n,"contextmenu",p(k)),d=!0)},p(t,c){e=t,5&c[0]&&$!==($=e[11](e[33].type,e[30][e[33].key])+"")&&g(r,$),23&c[0]&&l!==(l=e[15](e[4]===e[33].key,e[30][e[1]]))&&y(o,"style",l),4&c[0]&&s!==(s=e[10](e[33]))&&y(n,"style",s),132&c[0]&&v(n,"column-order",e[7]?.key===e[33].key),6&c[0]&&v(n,"data-charted",e[1]===e[33].key)},d(t){t&&u(n),d=!1,h()}}}function St(t,e){let n,o,r,l,s,d=e[32]+1+"",m=[],p=new Map,$=e[2];const v=t=>t[33].key;for(let t=0;t<$.length;t+=1){let n=xt(e,$,t),o=v(n);p.set(o,m[t]=Mt(o,n))}return{key:t,first:null,c(){n=i("div"),o=i("div"),r=f(d),l=h();for(let t=0;t<m.length;t+=1)m[t].c();s=h(),y(o,"class","cell svelte-1x7ak6b"),y(n,"class","row svelte-1x7ak6b"),y(n,"style",e[9]),this.first=n},m(t,e){a(t,n,e),c(n,o),c(o,r),c(n,l);for(let t=0;t<m.length;t+=1)m[t].m(n,null);c(n,s)},p(t,o){e=t,1&o[0]&&d!==(d=e[32]+1+"")&&g(r,d),40087&o[0]&&($=e[2],m=B(m,o,v,1,e,$,p,n,F,Mt,s,xt)),512&o[0]&&y(n,"style",e[9])},d(t){t&&u(n);for(let t=0;t<m.length;t+=1)m[t].d()}}}function At(t){let e,n,o,r=t[3],l=[];for(let e=0;e<r.length;e+=1)l[e]=Et(kt(t,r,e));return{c(){e=i("footer"),n=i("div"),o=h();for(let t=0;t<l.length;t+=1)l[t].c();y(n,"class","cell total svelte-1x7ak6b"),y(e,"style",t[9]),y(e,"class","svelte-1x7ak6b")},m(t,r){a(t,e,r),c(e,n),c(e,o);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(t,n){if(7306&n[0]){let o;for(r=t[3],o=0;o<r.length;o+=1){const s=kt(t,r,o);l[o]?l[o].p(s,n):(l[o]=Et(s),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=r.length}512&n[0]&&y(e,"style",t[9])},d(t){t&&u(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(l,t)}}}function Et(t){let e,n,o,r,l,s,d=t[11](t[27].type,t[27].value)+"";function $(...e){return t[22](t[27],...e)}return{c(){e=i("div"),n=f(d),o=h(),y(e,"class","cell total svelte-1x7ak6b"),y(e,"style",r=t[10](t[27])),v(e,"column-order",t[7]?.key===t[27].key),v(e,"data-charted",t[1]===t[27].key)},m(t,r){a(t,e,r),c(e,n),c(e,o),l||(s=m(e,"contextmenu",p($)),l=!0)},p(o,l){t=o,8&l[0]&&d!==(d=t[11](t[27].type,t[27].value)+"")&&g(n,d),8&l[0]&&r!==(r=t[10](t[27]))&&y(e,"style",r),136&l[0]&&v(e,"column-order",t[7]?.key===t[27].key),10&l[0]&&v(e,"data-charted",t[1]===t[27].key)},d(t){t&&u(e),l=!1,s()}}}function _t(t){let n,o,r,l,s,d,f,m,p,g,$=[],v=new Map,k=[],w=new Map;const x=[{show:t[6]},t[8],{canChart:t[5].includes(t[7]?.key)}];let b={};for(let t=0;t<x.length;t+=1)b=e(b,x[t]);n=new vt({props:b}),n.$on("order-asc",t[13]),n.$on("order-desc",t[14]),n.$on("hide",t[19]),n.$on("chart-this",t[16]);let C=t[2];const M=t=>t[33].key;for(let e=0;e<C.length;e+=1){let n=bt(t,C,e),o=M(n);v.set(o,$[e]=Ct(o,n))}let S=t[0];const A=t=>t[30].id;for(let e=0;e<S.length;e+=1){let n=wt(t,S,e),o=A(n);w.set(o,k[e]=St(o,n))}let E=t[3].length>0&&At(t);return{c(){U(n.$$.fragment),o=h(),r=i("article"),l=i("header"),s=i("div"),d=h();for(let t=0;t<$.length;t+=1)$[t].c();f=h(),m=i("section");for(let t=0;t<k.length;t+=1)k[t].c();p=h(),E&&E.c(),y(s,"class","cell title svelte-1x7ak6b"),y(l,"style",t[9]),y(l,"class","svelte-1x7ak6b"),y(m,"class","svelte-1x7ak6b"),y(r,"class","table svelte-1x7ak6b")},m(t,e){I(n,t,e),a(t,o,e),a(t,r,e),c(r,l),c(l,s),c(l,d);for(let t=0;t<$.length;t+=1)$[t].m(l,null);c(r,f),c(r,m);for(let t=0;t<k.length;t+=1)k[t].m(m,null);c(r,p),E&&E.m(r,null),g=!0},p(t,e){const o=480&e[0]?function(t,e){const n={},o={},r={$$scope:1};let l=t.length;for(;l--;){const s=t[l],c=e[l];if(c){for(const t in s)t in c||(o[t]=1);for(const t in c)r[t]||(n[t]=c[t],r[t]=1);t[l]=c}else for(const t in s)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}(x,[64&e[0]&&{show:t[6]},256&e[0]&&(s=t[8],"object"==typeof s&&null!==s?s:{}),160&e[0]&&{canChart:t[5].includes(t[7]?.key)}]):{};var s;n.$set(o),5254&e[0]&&(C=t[2],$=B($,e,M,1,t,C,v,l,F,Ct,null,bt)),(!g||512&e[0])&&y(l,"style",t[9]),40599&e[0]&&(S=t[0],k=B(k,e,A,1,t,S,w,m,F,St,null,wt)),t[3].length>0?E?E.p(t,e):(E=At(t),E.c(),E.m(r,null)):E&&(E.d(1),E=null)},i(t){g||(P(n.$$.fragment,t),g=!0)},o(t){L(n.$$.fragment,t),g=!1},d(t){W(n,t),t&&u(o),t&&u(r);for(let t=0;t<$.length;t+=1)$[t].d();for(let t=0;t<k.length;t+=1)k[t].d();E&&E.d()}}}function Ot(t,e){const n=e.findIndex((e=>e.key===t));return e[n]}function zt(t,e,n){let o,r,l,{rows:s=[]}=e,{headers:c=[]}=e,{totals:a=[]}=e;let u,i=!1,d={x:0,y:0};async function f(t,e){i&&(n(6,i=!1),await new Promise((t=>setTimeout(t,10)))),n(8,d={x:e.pageX,y:e.pageY}),n(7,u={...t}),n(6,i=!0)}let{orders:h=[]}=e;let{chartColumn:m=""}=e,{chartValue:p=""}=e;let{chartsColumns:y=[]}=e;return t.$$set=t=>{"rows"in t&&n(0,s=t.rows),"headers"in t&&n(2,c=t.headers),"totals"in t&&n(3,a=t.totals),"orders"in t&&n(17,h=t.orders),"chartColumn"in t&&n(4,m=t.chartColumn),"chartValue"in t&&n(1,p=t.chartValue),"chartsColumns"in t&&n(5,y=t.chartsColumns)},t.$$.update=()=>{var e;4&t.$$.dirty[0]&&n(9,o=`grid-template-columns: 4ch ${e=c,e.map((t=>(null==t?void 0:t.width)?t.width:"auto")).join(" ")};`),192&t.$$.dirty[0]&&n(7,u=i?u:null),3&t.$$.dirty[0]&&n(18,r=[...s.map((t=>t[p]))]),262144&t.$$.dirty[0]&&(l=Math.max(...r))},[s,p,c,a,m,y,i,u,d,o,t=>(null==t?void 0:t.align)?`text-align: ${t.align};`:"",(t,e)=>{return"cents"===t&&"number"==typeof e?(e/100).toFixed(2):"date"===t&&"object"==typeof e?`${(n=e).year} ${n.monthName} ${n.day}`:e;var n},f,function(){n(0,s=[...Ot(u.key,h).functionOrderASC(u.key,s)])},function(){n(0,s=[...Ot(u.key,h).functionOrderDESC(u.key,s)])},function(t,e){if(!t)return"";const n=Math.round(e/l*100);return`background:linear-gradient(to right,#fdba74 ${n}%, transparent ${n}%)`},function(){n(1,p=u.key)},h,r,()=>{n(6,i=!1)},(t,e)=>{f(t,e)},(t,e)=>{f(t,e)},(t,e)=>{f(t,e)}]}class Tt extends J{constructor(t){super(),q(this,t,zt,_t,s,{rows:0,headers:2,totals:3,orders:17,chartColumn:4,chartValue:1,chartsColumns:5},null,[-1,-1])}}function Dt(t,e,n){const o=t.slice();return o[5]=e[n],o}function Nt(t,e,n){const o=t.slice();return o[8]=e[n],o}function Vt(t,e){let n,o,r,l,s=e[8]/100+"";return{key:t,first:null,c(){n=i("div"),o=i("span"),r=f(s),l=h(),y(o,"class","value svelte-1vcxm30"),y(n,"class","column svelte-1vcxm30"),$(n,"height",e[8]/e[3]*100+"%"),this.first=n},m(t,e){a(t,n,e),c(n,o),c(o,r),c(n,l)},p(t,o){e=t,1&o&&s!==(s=e[8]/100+"")&&g(r,s),9&o&&$(n,"height",e[8]/e[3]*100+"%")},d(t){t&&u(n)}}}function jt(t,e){let n,o,r=e[5]+"";return{key:t,first:null,c(){n=i("div"),o=f(r),this.first=n},m(t,e){a(t,n,e),c(n,o)},p(t,n){e=t,2&n&&r!==(r=e[5]+"")&&g(o,r)},d(t){t&&u(n)}}}function Ht(e){let n,o,r,l,s=[],d=new Map,f=[],m=new Map,p=e[0];const g=t=>Math.random();for(let t=0;t<p.length;t+=1){let n=Nt(e,p,t),o=g();d.set(o,s[t]=Vt(o,n))}let $=e[1];const v=t=>Math.random();for(let t=0;t<$.length;t+=1){let n=Dt(e,$,t),o=v();m.set(o,f[t]=jt(o,n))}return{c(){n=i("section"),o=i("div");for(let t=0;t<s.length;t+=1)s[t].c();r=h(),l=i("div");for(let t=0;t<f.length;t+=1)f[t].c();y(o,"class","columns data svelte-1vcxm30"),y(o,"style",e[2]),y(l,"class","columns labels svelte-1vcxm30"),y(l,"style",e[2]),y(n,"class","svelte-1vcxm30")},m(t,e){a(t,n,e),c(n,o);for(let t=0;t<s.length;t+=1)s[t].m(o,null);c(n,r),c(n,l);for(let t=0;t<f.length;t+=1)f[t].m(l,null)},p(t,[e]){9&e&&(p=t[0],s=B(s,e,g,1,t,p,d,o,F,Vt,null,Nt)),4&e&&y(o,"style",t[2]),2&e&&($=t[1],f=B(f,e,v,1,t,$,m,l,F,jt,null,Dt)),4&e&&y(l,"style",t[2])},i:t,o:t,d(t){t&&u(n);for(let t=0;t<s.length;t+=1)s[t].d();for(let t=0;t<f.length;t+=1)f[t].d()}}}function Pt(t,e,n){let o,r,l,{data:s=[]}=e,{labels:c=[]}=e;return t.$$set=t=>{"data"in t&&n(0,s=t.data),"labels"in t&&n(1,c=t.labels)},t.$$.update=()=>{1&t.$$.dirty&&n(4,o=s.length),1&t.$$.dirty&&n(3,r=Math.max(...s)),16&t.$$.dirty&&n(2,l=`grid-template-columns: repeat(${o}, minmax(0, 1fr));`)},[s,c,l,r,o]}class Lt extends J{constructor(t){super(),q(this,t,Pt,Ht,s,{data:0,labels:1})}}function Ft(t,e,n){const o=t.slice();return o[10]=e[n],o}function Bt(t){let e,n,o,r;function l(t,e){return t[5]?Ut:It}let s=l(t),d=s(t);return{c(){e=i("div"),n=i("button"),d.c()},m(l,s){a(l,e,s),c(e,n),d.m(n,null),o||(r=m(n,"click",t[9]),o=!0)},p(t,e){s!==(s=l(t))&&(d.d(1),d=s(t),d&&(d.c(),d.m(n,null)))},d(t){t&&u(e),d.d(),o=!1,r()}}}function Ut(t){let e;return{c(){e=f("Hide Monthly Amounts")},m(t,n){a(t,e,n)},d(t){t&&u(e)}}}function It(t){let e;return{c(){e=f("Show Monthly Amounts")},m(t,n){a(t,e,n)},d(t){t&&u(e)}}}function Wt(t){let e,n,o,r,l,s,d,f=[],m=new Map,p=t[1];const g=t=>t[10].month;for(let e=0;e<p.length;e+=1){let n=Ft(t,p,e),o=g(n);m.set(o,f[e]=Yt(o,n))}return s=new Lt({props:{labels:t[3],data:t[2]}}),{c(){e=i("div"),n=i("div"),o=i("ul");for(let t=0;t<f.length;t+=1)f[t].c();r=h(),l=i("div"),U(s.$$.fragment),y(n,"class","monthly-list svelte-6ntumb"),y(l,"class","istogram svelte-6ntumb"),y(e,"class","monthly-amounts svelte-6ntumb")},m(t,u){a(t,e,u),c(e,n),c(n,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);c(e,r),c(e,l),I(s,l,null),d=!0},p(t,e){2&e&&(p=t[1],f=B(f,e,g,1,t,p,m,o,F,Yt,null,Ft));const n={};8&e&&(n.labels=t[3]),4&e&&(n.data=t[2]),s.$set(n)},i(t){d||(P(s.$$.fragment,t),d=!0)},o(t){L(s.$$.fragment,t),d=!1},d(t){t&&u(e);for(let t=0;t<f.length;t+=1)f[t].d();W(s)}}}function Yt(t,e){let n,o,r,l,s,d,m,p=e[10].month.monthName+"",y=e[10].month.year+"",$=e[10].amount/100+"";return{key:t,first:null,c(){n=i("li"),o=f(p),r=h(),l=f(y),s=f(" - "),d=f($),m=f(" $\n            "),this.first=n},m(t,e){a(t,n,e),c(n,o),c(n,r),c(n,l),c(n,s),c(n,d),c(n,m)},p(t,n){e=t,2&n&&p!==(p=e[10].month.monthName+"")&&g(o,p),2&n&&y!==(y=e[10].month.year+"")&&g(l,y),2&n&&$!==($=e[10].amount/100+"")&&g(d,$)},d(t){t&&u(n)}}}function qt(t){let e,n,o;return n=new Tt({props:{rows:t[0],headers:Z,totals:t[4],orders:tt,chartsColumns:et,chartColumn:"title",chartValue:"amountMonth"}}),{c(){e=i("div"),U(n.$$.fragment),y(e,"class","list-stories svelte-6ntumb")},m(t,r){a(t,e,r),I(n,e,null),o=!0},p(t,e){const o={};1&e&&(o.rows=t[0]),16&e&&(o.totals=t[4]),n.$set(o)},i(t){o||(P(n.$$.fragment,t),o=!0)},o(t){L(n.$$.fragment,t),o=!1},d(t){t&&u(e),W(n)}}}function Jt(t){let e,n,o,l,s,d,f,p,y,g,$,v,k=t[1].length>0&&Bt(t),w=t[1].length>0&&t[5]&&Wt(t),x=t[0].length>0&&qt(t);return{c(){e=i("main"),n=i("p"),n.textContent="Version: 0.0.5",o=h(),l=i("button"),l.textContent="Save dashboard.json",s=h(),d=i("button"),d.textContent="Load dashboard.json",f=h(),k&&k.c(),p=h(),w&&w.c(),y=h(),x&&x.c()},m(r,u){a(r,e,u),c(e,n),c(e,o),c(e,l),c(e,s),c(e,d),c(e,f),k&&k.m(e,null),c(e,p),w&&w.m(e,null),c(e,y),x&&x.m(e,null),g=!0,$||(v=[m(l,"click",t[7]),m(d,"click",t[8])],$=!0)},p(t,[n]){t[1].length>0?k?k.p(t,n):(k=Bt(t),k.c(),k.m(e,p)):k&&(k.d(1),k=null),t[1].length>0&&t[5]?w?(w.p(t,n),34&n&&P(w,1)):(w=Wt(t),w.c(),P(w,1),w.m(e,y)):w&&(j(),L(w,1,1,(()=>{w=null})),H()),t[0].length>0?x?(x.p(t,n),1&n&&P(x,1)):(x=qt(t),x.c(),P(x,1),x.m(e,null)):x&&(j(),L(x,1,1,(()=>{x=null})),H())},i(t){g||(P(w),P(x),g=!0)},o(t){L(w),L(x),g=!1},d(t){t&&u(e),k&&k.d(),w&&w.d(),x&&x.d(),$=!1,r(v)}}}function Xt(t,e,n){let o,r,l=[],s=[],c=[],a=[];async function u(){const t=await(async()=>{let[t]=await window.showOpenFilePicker();const e=await t.getFile(),n=await e.text(),o=JSON.parse((t=>t.startsWith("])}while(1);</x>")?t.replace("])}while(1);</x>",""):t)(n));return o})();n(1,s=[...K(t)]),n(0,l=[...R(t.payload.postAmounts)])}return t.$$.update=()=>{2&t.$$.dirty&&n(5,o=s.length>0),2&t.$$.dirty&&n(2,c=[...Q(s).data]),2&t.$$.dirty&&n(3,a=[...Q(s).labels]),1&t.$$.dirty&&n(4,r=[...nt(l,Z)])},[l,s,c,a,r,o,u,()=>{window.open("https://medium.com/me/partner/dashboard?format=json","medium stats")},async()=>{await u()},()=>{n(5,o=!o)}]}return new class extends J{constructor(t){super(),q(this,t,Xt,Jt,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
