var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function c(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function i(t){return document.createTextNode(t)}function f(){return i(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function p(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}let $;function g(t){$=t}const y=[],b=[],v=[],x=[],w=Promise.resolve();let k=!1;function _(t){v.push(t)}const M=new Set;let j=0;function A(){const t=$;do{for(;j<y.length;){const t=y[j];j++,g(t),S(t.$$)}for(g(null),y.length=0,j=0;b.length;)b.pop()();for(let t=0;t<v.length;t+=1){const n=v[t];M.has(n)||(M.add(n),n())}v.length=0}while(y.length);for(;x.length;)x.pop()();k=!1,M.clear(),g(t)}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(_)}}const E=new Set;let N;function C(t,n){t&&t.i&&(E.delete(t),t.i(n))}function O(t,n,e,o){if(t&&t.o){if(E.has(t))return;E.add(t),N.c.push((()=>{E.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function L(t,n){t.d(1),n.delete(t.key)}function F(t,n,e,o,r,l,s,a,c,u,i,f){let d=t.length,m=l.length,h=d;const p={};for(;h--;)p[t[h].key]=h;const $=[],g=new Map,y=new Map;for(h=m;h--;){const t=f(r,l,h),a=e(t);let c=s.get(a);c?o&&c.p(t,n):(c=u(a,t),c.c()),g.set(a,$[h]=c),a in p&&y.set(a,Math.abs(h-p[a]))}const b=new Set,v=new Set;function x(t){C(t,1),t.m(a,i),s.set(t.key,t),i=t.first,m--}for(;d&&m;){const n=$[m-1],e=t[d-1],o=n.key,r=e.key;n===e?(i=n.first,d--,m--):g.has(r)?!s.has(o)||b.has(o)?x(n):v.has(r)?d--:y.get(o)>y.get(r)?(v.add(o),x(n)):(b.add(r),d--):(c(e,s),d--)}for(;d--;){const n=t[d];g.has(n.key)||c(n,s)}for(;m;)x($[m-1]);return $}function P(t,e,l,s){const{fragment:a,on_mount:c,on_destroy:u,after_update:i}=t.$$;a&&a.m(e,l),s||_((()=>{const e=c.map(n).filter(r);u?u.push(...e):o(e),t.$$.on_mount=[]})),i.forEach(_)}function I(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function T(t,n){-1===t.$$.dirty[0]&&(y.push(t),k||(k=!0,w.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function q(n,r,l,s,a,u,i,f=[-1]){const d=$;g(n);const m=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};i&&i(m.root);let h=!1;if(m.ctx=l?l(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return m.ctx&&a(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),h&&T(n,t)),e})):[],m.update(),h=!0,o(m.before_update),m.fragment=!!s&&s(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(c)}else m.fragment&&m.fragment.c();r.intro&&C(n.$$.fragment),P(n,r.target,r.anchor,r.customElement),A()}g(d)}class B{$destroy(){I(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function D(t,n,e){const o=t.slice();return o[5]=n[e],o}function H(t,n,e){const o=t.slice();return o[8]=n[e],o}function J(t,n){let e,o,r,l,d=n[8]/100+"";return{key:t,first:null,c(){e=u("div"),o=u("span"),r=i(d),l=f(),m(o,"class","value svelte-1vcxm30"),m(e,"class","column svelte-1vcxm30"),p(e,"height",n[8]/n[3]*100+"%"),this.first=e},m(t,n){a(t,e,n),s(e,o),s(o,r),s(e,l)},p(t,o){n=t,1&o&&d!==(d=n[8]/100+"")&&h(r,d),9&o&&p(e,"height",n[8]/n[3]*100+"%")},d(t){t&&c(e)}}}function V(t,n){let e,o,r=n[5]+"";return{key:t,first:null,c(){e=u("div"),o=i(r),this.first=e},m(t,n){a(t,e,n),s(e,o)},p(t,e){n=t,2&e&&r!==(r=n[5]+"")&&h(o,r)},d(t){t&&c(e)}}}function W(n){let e,o,r,l,i=[],d=new Map,h=[],p=new Map,$=n[0];const g=t=>Math.random();for(let t=0;t<$.length;t+=1){let e=H(n,$,t),o=g();d.set(o,i[t]=J(o,e))}let y=n[1];const b=t=>Math.random();for(let t=0;t<y.length;t+=1){let e=D(n,y,t),o=b();p.set(o,h[t]=V(o,e))}return{c(){e=u("section"),o=u("div");for(let t=0;t<i.length;t+=1)i[t].c();r=f(),l=u("div");for(let t=0;t<h.length;t+=1)h[t].c();m(o,"class","columns data svelte-1vcxm30"),m(o,"style",n[2]),m(l,"class","columns labels svelte-1vcxm30"),m(l,"style",n[2]),m(e,"class","svelte-1vcxm30")},m(t,n){a(t,e,n),s(e,o);for(let t=0;t<i.length;t+=1)i[t].m(o,null);s(e,r),s(e,l);for(let t=0;t<h.length;t+=1)h[t].m(l,null)},p(t,[n]){9&n&&($=t[0],i=F(i,n,g,1,t,$,d,o,L,J,null,H)),4&n&&m(o,"style",t[2]),2&n&&(y=t[1],h=F(h,n,b,1,t,y,p,l,L,V,null,D)),4&n&&m(l,"style",t[2])},i:t,o:t,d(t){t&&c(e);for(let t=0;t<i.length;t+=1)i[t].d();for(let t=0;t<h.length;t+=1)h[t].d()}}}function Y(t,n,e){let o,r,l,{data:s=[]}=n,{labels:a=[]}=n;return t.$$set=t=>{"data"in t&&e(0,s=t.data),"labels"in t&&e(1,a=t.labels)},t.$$.update=()=>{1&t.$$.dirty&&e(4,o=s.length),1&t.$$.dirty&&e(3,r=Math.max(...s)),16&t.$$.dirty&&e(2,l=`grid-template-columns: repeat(${o}, minmax(0, 1fr));`)},[s,a,l,r,o]}class z extends B{constructor(t){super(),q(this,t,Y,W,l,{data:0,labels:1})}}function G(t,n,e){const o=t.slice();return o[8]=n[e],o}function K(t){let n,e,o,r;function l(t,n){return t[3]?Q:R}let i=l(t),f=i(t);return{c(){n=u("div"),e=u("button"),f.c()},m(l,c){a(l,n,c),s(n,e),f.m(e,null),o||(r=d(e,"click",t[6]),o=!0)},p(t,n){i!==(i=l(t))&&(f.d(1),f=i(t),f&&(f.c(),f.m(e,null)))},d(t){t&&c(n),f.d(),o=!1,r()}}}function Q(t){let n;return{c(){n=i("Hide Monthly Amounts")},m(t,e){a(t,n,e)},d(t){t&&c(n)}}}function R(t){let n;return{c(){n=i("Show Monthly Amounts")},m(t,e){a(t,n,e)},d(t){t&&c(n)}}}function U(t){let n,e,o,r,l,i,d,h=[],p=new Map,$=t[0];const g=t=>t[8].month;for(let n=0;n<$.length;n+=1){let e=G(t,$,n),o=g(e);p.set(o,h[n]=X(o,e))}return i=new z({props:{labels:t[2],data:t[1]}}),{c(){n=u("div"),e=u("div"),o=u("ul");for(let t=0;t<h.length;t+=1)h[t].c();var t;r=f(),l=u("div"),(t=i.$$.fragment)&&t.c(),m(e,"class","monthly-list svelte-shsajy"),m(l,"class","istogram svelte-shsajy"),m(n,"class","monthly-amounts svelte-shsajy")},m(t,c){a(t,n,c),s(n,e),s(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);s(n,r),s(n,l),P(i,l,null),d=!0},p(t,n){1&n&&($=t[0],h=F(h,n,g,1,t,$,p,o,L,X,null,G));const e={};4&n&&(e.labels=t[2]),2&n&&(e.data=t[1]),i.$set(e)},i(t){d||(C(i.$$.fragment,t),d=!0)},o(t){O(i.$$.fragment,t),d=!1},d(t){t&&c(n);for(let t=0;t<h.length;t+=1)h[t].d();I(i)}}}function X(t,n){let e,o,r,l,d,m,p,$=n[8].month.monthName+"",g=n[8].month.year+"",y=n[8].amount/100+"";return{key:t,first:null,c(){e=u("li"),o=i($),r=f(),l=i(g),d=i(" - "),m=i(y),p=i(" $\n            "),this.first=e},m(t,n){a(t,e,n),s(e,o),s(e,r),s(e,l),s(e,d),s(e,m),s(e,p)},p(t,e){n=t,1&e&&$!==($=n[8].month.monthName+"")&&h(o,$),1&e&&g!==(g=n[8].month.year+"")&&h(l,g),1&e&&y!==(y=n[8].amount/100+"")&&h(m,y)},d(t){t&&c(e)}}}function Z(t){let n,e,r,l,i,m,h,p,$,g,y,b=t[0].length>0&&K(t),v=t[0].length>0&&t[3]&&U(t);return{c(){n=u("main"),e=u("p"),e.textContent="Version: 0.0.1",r=f(),l=u("button"),l.textContent="Save dashboard.json",i=f(),m=u("button"),m.textContent="Load dashboard.json",h=f(),b&&b.c(),p=f(),v&&v.c()},m(o,c){a(o,n,c),s(n,e),s(n,r),s(n,l),s(n,i),s(n,m),s(n,h),b&&b.m(n,null),s(n,p),v&&v.m(n,null),$=!0,g||(y=[d(l,"click",t[4]),d(m,"click",t[5])],g=!0)},p(t,[e]){t[0].length>0?b?b.p(t,e):(b=K(t),b.c(),b.m(n,p)):b&&(b.d(1),b=null),t[0].length>0&&t[3]?v?(v.p(t,e),9&e&&C(v,1)):(v=U(t),v.c(),C(v,1),v.m(n,null)):v&&(N={r:0,c:[],p:N},O(v,1,1,(()=>{v=null})),N.r||o(N.c),N=N.p)},i(t){$||(C(v),$=!0)},o(t){O(v),$=!1},d(t){t&&c(n),b&&b.d(),v&&v.d(),g=!1,o(y)}}}function tt(t){return[nt(t.payload.currentMonthAmount,!0),...t.payload.completedMonthlyAmounts.map((t=>nt(t)))]}function nt(t,n=!1){return{isCurrentMonth:n,month:et(t.periodStartedAt),amount:parseInt(t.amount)}}function et(t){const n=new Date(parseInt(t));return{year:n.getFullYear(),month:n.getMonth(),monthName:n.toLocaleString("default",{month:"short"})}}function ot(t){return{data:t.map((t=>t.amount)).reverse(),labels:t.map((t=>t.month.monthName)).reverse()}}function rt(t,n,e){let o,r=[],l=[],s=[];return t.$$.update=()=>{1&t.$$.dirty&&e(3,o=r.length>0),1&t.$$.dirty&&e(1,l=[...ot(r).data]),1&t.$$.dirty&&e(2,s=[...ot(r).labels])},[r,l,s,o,()=>{window.open("https://medium.com/me/partner/dashboard?format=json","medium stats")},async()=>{const t=await async function(){let[t]=await window.showOpenFilePicker();const n=await t.getFile(),e=await n.text(),o=JSON.parse(function(t){return t.startsWith("])}while(1);</x>")?t.replace("])}while(1);</x>",""):t}(e));return o}();e(0,r=[...tt(t)])},()=>{e(3,o=!o)}]}return new class extends B{constructor(t){super(),q(this,t,rt,Z,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
